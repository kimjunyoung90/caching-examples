# prometheus.yml 파일 내용 (수정본)

global:
  scrape_interval: 3s # 지표 수집 주기

scrape_configs:
  # 1. Spring Boot 애플리케이션 지표 수집 (Cache Hit/Miss, Latency 등)
  - job_name: 'spring-app'
    metrics_path: '/actuator/prometheus'
    static_configs:
      # host.docker.internal 대신, docker-compose 서비스 이름인 'app' 사용
      - targets: ['app:8080']

  # 2. Redis Exporter 지표 수집 (Redis Keyspace Hit/Miss, Memory 등)
  - job_name: 'redis-exporter'
    metrics_path: '/metrics'
    static_configs:
      # docker-compose 서비스 이름인 'redis-exporter' 사용
      - targets: ['redis-exporter:9121']